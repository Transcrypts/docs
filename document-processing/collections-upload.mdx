---
title: "Upload Files to Existing Collection"
description: "Add supplementary documents to an existing document collection"
api: "POST /v1/documents/collections/{collection_id}/upload/"
---

# Upload Files to Existing Collection

This endpoint enables users to add supplementary documents to an already-established collection. Files are submitted as base64-encoded data within a JSON payload. The system automatically validates each file and queues it for AI-driven categorization.

## Authentication

This endpoint requires API credentials:
- **ClientID** (header)
- **AccessKey** (header)

## Path Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `collection_id` | string | The unique identifier for the collection (required) |

## Request Body

**Content-Type:** `application/json`

```json
{
  "documents": [
    {
      "filename": "paystub.pdf",
      "mime_type": "application/pdf",
      "content": "JVBERi0xLjQKJeLjz9MK...",
      "user_id": "a1b2c3d4e5f6478899aabbccddeeff00",
      "external_user_id": "ext_user_789"
    }
  ]
}
```

### Field Specifications

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `documents` | array | Yes | Collection of documents to upload (1-10 files max per request) |
| `filename` | string | Yes | Document name (max 255 characters) |
| `mime_type` | string | Yes | File format (`application/pdf`, `image/jpeg`, `image/png`, `image/tiff`, `image/webp`, `image/x-ms-bmp`, `image/heic`, `image/heif`) |
| `content` | string | Yes | Base64-encoded file data; minimum 1 KB, maximum 10 MB |
| `user_id` | string | No | Transcrypts user identifier for document assignment |
| `external_user_id` | string | No | External system user identifier (mutually exclusive with `user_id`) |

<Note>
Maximum of 10 files per single upload request. Each file must be between 1 KB and 10 MB in size. Base64 encoding increases payload size by approximately 33%.
</Note>

## Response (201 Created)

```json
{
  "collection_id": "a1b2c3d4e5f6478899aabbccddeeff00",
  "uploaded_files": [
    {
      "file_id": "f1234567890abcdef1234567890abcde",
      "filename": "paystub.pdf",
      "mime_type": "application/pdf",
      "status": "validated",
      "validations": {
        "is_viable_size": true,
        "is_supported_type": true,
        "is_accessible": true,
        "is_valid": true,
        "is_readable": true,
        "is_unique": true
      },
      "user_id": "a1b2c3d4e5f6478899aabbccddeeff00",
      "external_user_id": "ext_user_789"
    }
  ],
  "documents": [
    {
      "document_id": "d0c1234567890abcdef1234567890abc",
      "file_id": "f1234567890abcdef1234567890abcde",
      "document_type": "PAYSTUB",
      "document_subtype": null,
      "status": "successful",
      "first_name": "John",
      "last_name": "Doe",
      "user_id": "a1b2c3d4e5f6478899aabbccddeeff00",
      "external_user_id": "ext_user_789",
      "start_page": 1,
      "end_page": 2
    }
  ],
  "users": [
    {
      "id": "a1b2c3d4e5f6478899aabbccddeeff00",
      "external_user_id": "ext_user_789",
      "first_name": "John",
      "last_name": "Doe"
    }
  ]
}
```

### File Processing Statuses

| Status | Description |
|--------|-------------|
| `pending` | Awaiting validation |
| `validating` | Currently being validated |
| `validated` | Passed validation checks |
| `invalid` | Failed validation |
| `duplicate` | Identified as duplicate |
| `processing` | Being categorized |
| `successful` | Processing complete |
| `failed` | Processing encountered error |

### Supported Document Types

- `PAYSTUB`
- `W2`
- `F1099` (with subtypes: `F1099_MISC`, `F1099_NEC`, `F1099_DIV`, `F1099_INT`, `F1099_G`, `F1099_R`, `F_SSA1099`)
- `F1040`
- `BANK_STATEMENT`
- `PASSPORT`
- `GREEN_CARD`
- `DRIVER_LICENSE`
- `LETTER_OF_VERIFICATION`
- `UTILITY_BILL`
- `LEASE_AGREEMENT`
- `INSURANCE_HOME_POLICY`
- `INSURANCE_AUTO_POLICY`
- `VOLUNTEER_LETTER`
- `OTHER`

## Error Responses

### 400 Bad Request

Occurs when request parameters are incorrect or missing required fields.

### 401 Unauthorized

```json
{
  "error": {
    "code": "authentication_failed",
    "message": "No such token"
  }
}
```

### 403 Forbidden

```json
{
  "error": {
    "code": "not_authenticated",
    "message": "Authentication credentials were not provided."
  }
}
```

### 404 Not Found

```json
{
  "detail": "Not Found."
}
```
